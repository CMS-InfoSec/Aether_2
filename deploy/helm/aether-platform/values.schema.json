{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://aether.example.com/helm/aether-platform/values.schema.json",
  "title": "Aether Platform Helm Values",
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "simulation": {
      "type": "object",
      "description": "Controls access to the simulation workloads. These must remain disabled in production clusters.",
      "default": {
        "enabled": false
      },
      "required": [
        "enabled"
      ],
      "properties": {
        "enabled": {
          "type": "boolean",
          "const": false,
          "default": false,
          "description": "Simulation traffic is disabled by default to prevent accidental activation in production."
        }
      },
      "additionalProperties": true
    },
    "runtimeSafety": {
      "type": "object",
      "description": "Global runtime safety flags that harden the chart against insecure defaults.",
      "default": {
        "_ALLOW_INSECURE_DEFAULTS": false
      },
      "required": [
        "_ALLOW_INSECURE_DEFAULTS"
      ],
      "properties": {
        "_ALLOW_INSECURE_DEFAULTS": {
          "description": "Ensures insecure default fallbacks remain disabled across all workloads.",
          "anyOf": [
            {
              "type": "boolean",
              "const": false
            },
            {
              "type": "string",
              "enum": [
                "0",
                "false",
                "False"
              ]
            }
          ]
        }
      },
      "additionalProperties": true
    }
  }
}
