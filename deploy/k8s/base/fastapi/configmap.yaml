apiVersion: v1
kind: ConfigMap
metadata:
  name: fastapi-config
  labels:
    app.kubernetes.io/name: risk-api
    app.kubernetes.io/component: service
  annotations:
    observability.aether.dev/slo.latency: "P99<500ms"
data:
  settings.yaml: |
    kafka:
      brokers:
        - bootstrap.kafka.aether.svc.cluster.local:9092
      tls:
        enabled: false
    nats:
      url: nats://nats.aether.svc.cluster.local:4222
      tls:
        enabled: false
    timescaledb:
      host: timescaledb.aether.svc.cluster.local
      port: 5432
      database: marketdata
      user: risk_engine
      tls: false
    redis:
      host: redis.aether.svc.cluster.local
      port: 6379
      tls: false
    feature_store:
      host: feast-online.aether.svc.cluster.local
      port: 6566
      tls: false
    risk_thresholds:
      liquidation_ratio: 0.25
      drawdown_limit: 0.18
    universe_controls:
      assets:
        - BTC/USD
        - ETH/USD
        - SOL/USD
