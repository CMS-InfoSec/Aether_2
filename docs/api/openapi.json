{
  "info": {
    "title": "Aether Admin Platform",
    "version": "stub"
  },
  "openapi": "3.1.0",
  "paths": {
    "//alerts/prioritized": {
      "get": {
        "operationId": "prioritized_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/alerts/active": {
      "get": {
        "operationId": "get_active_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/alerts/policies": {
      "get": {
        "operationId": "get_alert_policies_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "operationId": "login_post",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/compliance/export": {
      "get": {
        "operationId": "export_compliance_pack_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/healthz": {
      "get": {
        "operationId": "healthz_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/hedge/diagnostics": {
      "get": {
        "operationId": "get_last_diagnostics_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/hedge/evaluate": {
      "post": {
        "operationId": "evaluate_hedge_post",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/hedge/history": {
      "get": {
        "operationId": "get_history_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/hedge/override": {
      "delete": {
        "operationId": "clear_override_delete",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      },
      "get": {
        "operationId": "get_override_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      },
      "post": {
        "operationId": "set_override_post",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/infra/scaling/status": {
      "get": {
        "operationId": "scaling_status_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/knowledge/export/latest": {
      "get": {
        "operationId": "latest_pack_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/logging/export/status": {
      "get": {
        "operationId": "export_status_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/logs/export": {
      "get": {
        "operationId": "export_logs_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/meta/weights": {
      "get": {
        "operationId": "meta_weights_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "operationId": "metrics_endpoint_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/models/active": {
      "get": {
        "operationId": "active_models_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/models/list": {
      "get": {
        "operationId": "list_models_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/models/switch": {
      "post": {
        "operationId": "switch_model_post",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/reports/xai": {
      "get": {
        "operationId": "recent_xai_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/risk/forecast": {
      "get": {
        "operationId": "get_exposure_forecast_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/system/health": {
      "get": {
        "operationId": "get_system_health_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/secrets/status": {
      "get": {
        "operationId": "getSecretsStatus",
        "summary": "Fetch the current Kraken credential rotation status for the caller.",
        "parameters": [
          {
            "$ref": "#/components/parameters/MfaContext"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved credential status information.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SecretsStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication credentials were missing or invalid."
          },
          "403": {
            "description": "Caller is not authorized to access Kraken credential data."
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/secrets/audit": {
      "get": {
        "operationId": "getSecretsAuditTrail",
        "summary": "Return the credential rotation audit trail for the authenticated account.",
        "parameters": [
          {
            "$ref": "#/components/parameters/MfaContext"
          }
        ],
        "responses": {
          "200": {
            "description": "Audit history retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SecretsAuditEntry"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentication credentials were missing or invalid."
          },
          "403": {
            "description": "Caller is not authorized to access Kraken credential data."
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/secrets/rotate": {
      "post": {
        "operationId": "rotateSecrets",
        "summary": "Rotate Kraken API credentials via the secrets microservice.",
        "parameters": [
          {
            "$ref": "#/components/parameters/MfaContext"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SecretsRotateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Credentials rotated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SecretsRotateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Request payload failed validation."
          },
          "401": {
            "description": "Authentication credentials were missing or invalid."
          },
          "403": {
            "description": "Caller is not authorized to access Kraken credential data."
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "SecretsStatusResponse": {
        "type": "object",
        "properties": {
          "last_rotated_at": {
            "type": [
              "string",
              "null"
            ],
            "description": "ISO-8601 timestamp for the most recent credential rotation.",
            "format": "date-time"
          },
          "last_rotated_by": {
            "type": [
              "string",
              "null"
            ],
            "description": "Identifier for the actor that last rotated the credentials."
          },
          "status": {
            "type": [
              "string",
              "null"
            ],
            "description": "Human friendly message describing the credential freshness."
          }
        },
        "additionalProperties": false
      },
      "SecretsAuditEntry": {
        "type": "object",
        "required": [
          "actor",
          "rotated_at"
        ],
        "properties": {
          "actor": {
            "type": "string",
            "description": "Actor responsible for the rotation event."
          },
          "rotated_at": {
            "type": "string",
            "format": "date-time",
            "description": "ISO-8601 timestamp describing when rotation completed."
          },
          "notes": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional contextual note associated with the rotation event."
          }
        },
        "additionalProperties": false
      },
      "SecretsRotateRequest": {
        "type": "object",
        "required": [
          "api_key",
          "api_secret"
        ],
        "properties": {
          "api_key": {
            "type": "string",
            "minLength": 10,
            "maxLength": 128,
            "description": "Kraken API key issued by the exchange."
          },
          "api_secret": {
            "type": "string",
            "minLength": 20,
            "maxLength": 512,
            "description": "Kraken API secret associated with the API key."
          }
        },
        "additionalProperties": false
      },
      "SecretsRotateResponse": {
        "type": "object",
        "required": [
          "secret_name",
          "last_rotated"
        ],
        "properties": {
          "secret_name": {
            "type": "string",
            "description": "Kubernetes secret storing the encrypted credentials."
          },
          "last_rotated": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp describing when the credentials were rotated."
          }
        },
        "additionalProperties": false
      }
    },
    "parameters": {
      "MfaContext": {
        "name": "X-MFA-Context",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "MFA verification context token issued by the authentication service."
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
